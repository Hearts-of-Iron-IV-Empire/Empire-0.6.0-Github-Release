add_namespace = ottomans

# Sweden requests intervention against russia

country_event = {
	id = ottomans.2
	title = ottomans.2.t
	desc = ottomans.2.d

	fire_only_once = yes
	is_triggered_only = yes

	option = { 
		name = "Surely, they will be a walkover."
		SWE = {
			country_event = {
				id = ottomans.3
				days = 5
			}
		}
		create_wargoal = {
		    type = puppet_wargoal_focus
		    target = ROOT
		}
		add_war_support = 0.05
	}
	option = { 
		name = "Intriguing request, but we need more time!"
		SWE = {
			country_event = {
				id = ottomans.4
				days = 5
			}
		}
		add_ai_strategy = {
			type = declare_war
			id = "SOV"
			value = 100
		}
		add_war_support = 0.05
	}
	option = { 
		name = "We will not break our previous treaties!"
		SWE = {
			country_event = {
				id = ottomans.5
				days = 5
			}
		}
		add_political_power = 50
	}
}

country_event = {
	id = ottomans.3
	title = ottomans.3.t
	desc = ottomans.3.d

	fire_only_once = yes
	is_triggered_only = yes

	option = { 
		name = "A toast to our new friends!"
		add_political_power = 50
	}
}

country_event = {
	id = ottomans.4
	title = ottomans.4.t
	desc = ottomans.4.d

	fire_only_once = yes
	is_triggered_only = yes

	option = { 
		name = "Let's hope they don't take too long!"
		add_political_power = 10
	}
}

country_event = {
	id = ottomans.5
	title = ottomans.5.t
	desc = ottomans.5.d

	fire_only_once = yes
	is_triggered_only = yes

	option = { 
		name = "Damn them!"
		add_political_power = -50
	}
}

# Janissary Revolt
country_event = {
	id = ottomans.10
	title = ottomans.10.t
	desc = ottomans.10.d
	picture = GFX_report_event_generic_riot

	fire_only_once = yes
	is_triggered_only = yes

	option = { # Join the rebellion
		name = ottomans.10.a
		set_politics = {
			ruling_party = aristocracy
		}
		delete_unit_template_and_units = {
		    division_template = "Piyade Tümeni"
		}
		start_civil_war = {
		    size = 0.5
		    ideology = neutrality
		    capital = 341
		    add_ideas = TUR_engulved_in_civil_war
			hidden_effect = {	
				load_focus_tree = { tree = ottoman_focus keep_completed = yes }
			}
		}
	}

	option = { # Stand with the Old Order
		name = ottomans.10.b
		delete_unit_template_and_units = {
		    division_template = "Janissary Tümeni"
		}
		start_civil_war = {
			size = 0.5
			ideology = aristocracy
			capital = 184
			states = { 879 184 211 212 48 231 354 }
			set_cosmetic_tag = TUR_jan
			set_country_flag = janissary_revolt
			keep_unit_leaders = {
				1 3 4 5 6 7
			}
			hidden_effect = {	
				load_focus_tree = { tree = ottoman_focus keep_completed = yes }
				PREV = {
					TUR_Ahmed_III_nobility = {			
						set_nationality = PREV.PREV
					}
				}
				add_ideas = TUR_engulved_in_civil_war
			}
		}
		TUR = {
			create_country_leader = {
				name = "Mustafa II"
				picture = "gfx/leaders/TUR/Mustafa_II.dds"
				ideology = despotism
			}
			hidden_effect = {
				add_ideas = TUR_engulved_in_civil_war
			}
		}
	}
}

# Ottomans demand Morea

country_event = {
	id = ottomans.11
	title = ottomans.11.t
	desc = ottomans.11.d

	is_triggered_only = yes

	option = { # NO
		name = ottomans.11.a
		add_war_support = 0.10
		add_political_power = 70
		TUR = {
			country_event = {
				id = ottomans.12
				days = 5
			}
		}
		ai_chance = {
			base = 80
		}
	}

	option = { # Yes...
		name = ottomans.11.b
		add_stability = -0.10
		add_political_power = -100
		TUR = {
			country_event = {
				id = ottomans.13
				days = 5
			}
		}
		ai_chance = {
			base = 20
		}
	}
}

# NOPE VENICE
country_event = {
	id = ottomans.12
	title = ottomans.12.t
	desc = ottomans.12.d

	is_triggered_only = yes

	option = {
		name = ottomans.12.a
		add_state_claim = 186
		create_wargoal = {
		    type = annex_everything
		    target = VNC
		}
	}
}

# YES VENICE
country_event = {
	id = ottomans.13
	title = ottomans.13.t
	desc = ottomans.13.d

	is_triggered_only = yes

	option = {
		name = ottomans.13.a
		transfer_state = 186
	}
}

# OTTOMANS SEND EQUIPMENT TO SWEDEN
country_event = {
	id = ottomans.14
	title = ottomans.14.t
	desc = ottomans.14.d

	is_triggered_only = yes

	option = {
		name = ottomans.14.a
	}
}

# Georgian uprising
country_event = {
	id = ottomans.15
	title = ottomans.15.t
	desc = ottomans.15.d

	is_triggered_only = yes

	option = {
		name = ottomans.15.a
		add_timed_idea = {
		    idea = TUR_janissary_payments
		    days = 180
		}
	}

	option = {
		name = ottomans.15.b
		TUR_decrease_loyalty = yes 
	}
}

country_event = {
	id = ottomans.16
	title = ottomans.16.t
	desc = ottomans.16.d

	is_triggered_only = yes

	option = {
		name = ottomans.16.a
		add_timed_idea = {
		    idea = TUR_janissary_payments
		    days = 180
		}
		TUR_increase_loyalty = yes
	}

	option = {
		name = ottomans.16.b
		TUR_decrease_loyalty = yes 
		add_popularity = {
		    ideology = aristocracy
		    popularity = -0.05
		} 
	}
}

# Remove revolt name
country_event = {
	id = ottomans.17
	title = ottomans.17.t
	desc = ottomans.17.d

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		original_tag = TUR
		has_cosmetic_tag = TUR_jan
		has_civil_war = no
	}
	
	mean_time_to_happen = {
    	days = 1
	}

	option = {
		name = ottomans.17.a
		set_cosmetic_tag = TUR
	}
}

# Poland and Russia want to peace out
country_event = {
	id = ottomans.18
	title = ottomans.18.t
	desc = ottomans.18.d
	
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ottomans.18.a
		unlock_decision_category_tooltip = TUR_negotiating_peace
		set_country_flag = tur_negotiating_peace
		activate_mission = TUR_negotiating_peace_mission
	}
}

# Treaty of Podolia
country_event = {
	id = ottomans.19
	title = ottomans.19.t
	desc = ottomans.19.d

	picture = GFX_report_event_treaty
	
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ottomans.19.a
		add_stability = 0.05
		add_war_support = 0.05
		add_political_power = 60
	}
}

# Ottomans want Basra
country_event = {
	id = ottomans.20
	title = ottomans.20.t
	desc = ottomans.20.d
	
	fire_only_once = yes
	is_triggered_only = yes

	option = { # Ok
		name = ottomans.20.a
		TUR = {
			country_event = {
				id = ottomans.21
				days = 3
			}
		}
		ai_chance = {
			base = 100
		}
	}

	option = { # No
		name = ottomans.20.a
		TUR = {
			country_event = {
				id = ottomans.22
				days = 3
			}
		}
		ai_chance = {
			base = 0
		}
	}
}

# Persians said yes
country_event = {
	id = ottomans.21
	title = ottomans.21.t
	desc = ottomans.21.d
	
	fire_only_once = yes
	is_triggered_only = yes

	option = { # Yep
		name = ottomans.21.a
		custom_effect_tooltip = will_send_an_army_to_retake_basra
		add_command_power = -25
		add_manpower = -1200
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -1000
		}
		hidden_effect = {
			TUR = {
				country_event = {
					id = ottomans.23
					days = 10
				}
			}
		}

	}
}

# Persians say no (only for player Persia)
country_event = {
	id = ottomans.22
	title = ottomans.22.t
	desc = ottomans.22.d
	
	fire_only_once = yes
	is_triggered_only = yes

	option = { # Bruh momento
		name = ottomans.22.a
	}
}

# Army retakes Basra
country_event = {
	id = ottomans.23
	title = ottomans.23.t
	desc = ottomans.23.d
	
	fire_only_once = yes
	is_triggered_only = yes

	option = { # Bruh momento
		name = ottomans.22.a
		add_war_support = 0.02
		transfer_state = 675 # Basra
	}
}

# Ultimatum to become puppet
country_event = {
	id = ottomans.24
	title = ottomans.24.t
	desc = ottomans.24.d
	
	fire_only_once = yes
	is_triggered_only = yes

	option = { # Ok...
		name = ottomans.24.a
		add_stability = -0.20
		add_war_support = -0.20
		add_political_power = -120
		TUR = {
			country_event = {
				id = ottomans.25
				days = 2
			}
		}
		ai_chance = {
			base = 30
		}
	}

	option = { # NO!
		name = ottomans.24.b
		add_political_power = 20
		TUR = {
			country_event = {
				id = ottomans.26
				days = 2
			}
		}
		ai_chance = {
			base = 70
		}
	}
}

# They say yes
country_event = {
	id = ottomans.25
	title = ottomans.25.t
	desc = ottomans.25.d
	
	fire_only_once = yes
	is_triggered_only = yes

	option = { # Excellent.
		name = ottomans.25.a
		add_stability = 0.05
		add_war_support = 0.05
		add_political_power = 50
		TUR = {
			puppet = OMA
		}
	}
}

# They say no
country_event = {
	id = ottomans.26
	title = ottomans.26.t
	desc = ottomans.26.d
	
	fire_only_once = yes
	is_triggered_only = yes

	option = { # Leave it...
		name = ottomans.26.a
		add_stability = -0.05
		add_war_support = -0.10
		add_political_power = -75
		OMA = {
			country_event = {
				id = ottomans.27
				days = 2
			}
		}
	}

	option = { # WE DECLARE WAR
		name = ottomans.26.b
		add_war_support = 0.05
		add_political_power = 40
		create_wargoal = {
			type = annex_everything
			target = OMA
		}
	}
}

# Ottomans back down
country_event = {
	id = ottomans.27
	title = ottomans.27.t
	desc = ottomans.27.d
	
	fire_only_once = yes
	is_triggered_only = yes

	option = { # Lesgo
		name = ottomans.27.a
		add_stability = 0.05
		add_war_support = 0.10
		add_political_power = 75
	}
}

# Bandits damage infrastructure
state_event = {
	id = ottomans.28
	title = ottomans.28.t
	desc = ottomans.28.d
	
	is_triggered_only = yes

	option = { # ;-;
		name = ottomans.28.a
		TUR = {
			add_stability = -0.01
		}
		damage_building = {
			type = infrastructure
			damage = 0.5
		}
		set_variable = {
			var = mystate
		}
	}
}

# Bandits destroy villages
country_event = {
	id = ottomans.29
	title = ottomans.29.t
	desc = ottomans.29.d
	
	is_triggered_only = yes

	option = { # ;-;
		name = ottomans.29.a
		add_stability = -0.02
		add_political_power = -30
	}
}

# Intervention in the Maghreb
country_event = {
	id = ottomans.30
	title = ottomans.30.t
	desc = ottomans.30.d
	
	is_triggered_only = yes

	option = { # Support Algiers
		name = ottomans.30.a
		complete_national_focus = TUR_support_algiers
	}

	option = { # Support Tunis
		name = ottomans.30.b
		complete_national_focus = TUR_support_tunis
	}

	option = { # Take it all
		name = ottomans.30.c
		complete_national_focus = TUR_destroy_them_all
	}
}

# Fate of Persia
country_event = {
	id = ottomans.31
	title = ottomans.31.t
	desc = ottomans.31.d
	
	is_triggered_only = yes

	option = { # Seize border provinces
		name = ottomans.31.a
		transfer_state = 229 # Shirvan
		transfer_state = 230 # Armenia
		transfer_state = 232 # Tarki
		transfer_state = 413 # Khuzestan
		transfer_state = 419 # Tabriz
		transfer_state = 421 # Kurdistan
		transfer_state = 910 # Dagestan
		add_stability = 0.10
		set_country_flag = persia_gone
	}

	option = { # Puppet them
		name = ottomans.31.b
		puppet = PER
		add_stability = 0.05
		set_country_flag = persia_gone
	}

	option = { # Take it all
		name = ottomans.31.c
		annex_country = {
			target = PER
		}
		add_stability = -0.10
		add_war_support = -0.10
		add_political_power = -100
		set_country_flag = persia_gone
	}
}

# Tell Austria we're gonna fight 
country_event = {
	id = ottomans.32
	title = ottomans.32.t
	desc = ottomans.32.d
	
	is_triggered_only = yes

	option = { # Ya serious boi?
		name = ottomans.31.a
		custom_effect_tooltip = take_constantinople_win
	}
}